<style>

div#seomatic-metrics-content {
    padding: 0px;
    border: none;
    width: 100%;
    height: 60vh;
    display: none;
    background-color: #FFF;
}

div#seomatic-metrics-content-inner {
    width: 100%;
    height: 60vh;
}

div#seomatic-metrics-content object {
    width: 100%;
    height: 100%;
}

input[type="text"].seomatic-metrics-input {
    color: #222;
    text-decoration: none;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-style: normal;
    font-variant-caps: normal;
    font-weight: normal;
    border: 1px solid rgba(0, 0, 0, .5);
    padding: 6px;
    margin-right: 8px;
    width: 50%;
    display: inline-block;
}

label.seomatic-metrics-label {
    color: #222;
    text-decoration: none;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-style: normal;
    font-variant-caps: normal;
    font-weight: normal;
    padding: 8px;
    display: inline-block;
}

a.seomatic-metrics-button {
    position: relative;
    font-family: Arial, Helvetica, sans-serif;
    font-size: 14px;
    font-style: normal;
    font-variant-caps: normal;
    font-weight: normal;
    line-height: 18px;
    padding: 4px 10px;
    margin: 0;
    text-shadow: none;
    -webkit-box-shadow: none;
    box-shadow: none;
    background: none;
    border: 2px solid rgba(0, 0, 0, .5);
    color: rgba(0, 0, 0, .8);
    cursor: pointer;
    text-decoration: none;
    display: inline-block;
}

a.seomatic-metrics-button:hover {
    border-color: rgba(0, 0, 0, .8);
    color: rgba(0, 0, 0, 1.0);
}

div.seomatic-metrics-header {
    border-bottom: 1px dashed #d5d8dd;
    padding-bottom: 10px;
}

div.seomatic-metrics-header:after {
    visibility: hidden;
    display: block;
    font-size: 0;
    content: " ";
    clear: both;
    height: 0;
}

</style>

{% set metricsActionUrl = actionUrl('seomatic/renderMetrics', { url: urlToAnalyze, keywords: "" }) %}

	<div id="preview-seometrics-popup" style="display: none;">
		<div class="preview-modal">
			<div class="preview-modal-inner">
				<div class="displaypreview-container">

					<div class="preview-column">
						<h1>{{ "SEOmetics Content Analysis" |t }}</h1>
						<p>{{ ("SEOmetrics Content Analysis will run a variety of tests on your web page, and offer you analysis with helpful tips on how to correct any problems it finds.  The URL being analyzed is: <code>" ~ urlToAnalyze ~ "</code>") |t |raw }}</p>
						<p>{{ "You can enter Focus Keyworks, comma separated, for an additional analysis of how well optimized your page is for those specific SEO keywords." |t |raw }}</p>

						<div id ="seomatic-metrics-content">
						    <div class="seomatic-metrics-header">
						        <div style="float: left; width: 95%;">
						            <label class="seomatic-metrics-label">Focus Keywords:</label><input id="seomatic-metrics-keywords" type="text" class="seomatic-metrics-input" placeholder="comma separated keywords"> <a id="seomatic-metrics-analyze" class="seomatic-metrics-button" href="#" onclick="load_metrics()">Analyze</a>
						        </div>
						    </div>
						    <div id="seomatic-metrics-content-inner">
						    </div>
						</div>
					</div>
				</div>
			</div>
		</div>
	</div>



<script>
load_metrics();

document.getElementById("seomatic-metrics-keywords")
    .addEventListener("keyup", function(event) {
    event.preventDefault();
    if (event.keyCode == 13) {
        document.getElementById("seomatic-metrics-analyze").click();
    }
});
    function load_metrics()
    {
        var floaterDiv = document.getElementById('seomatic-metrics-content');
        var dataUrl = "{{ metricsActionUrl }}";
        var dataKeywords = encodeURIComponent(document.getElementById("seomatic-metrics-keywords").value);
        floaterDiv.style.display='block';
        document.getElementById("seomatic-metrics-content-inner").innerHTML='<object type="text/html" data="' + dataUrl + dataKeywords + '" ></object>';
    }

</script>